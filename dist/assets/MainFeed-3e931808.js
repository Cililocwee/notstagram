import{r,j as n,a as e,A as p,u as g,_ as f}from"./index-90082eb9.js";import{N,a as _,S as v,b,c as S,d as y}from"./NewPost-624c1a18.js";import{v as U}from"./v4-a960c1f4.js";function k({picUrl:a,userName:s}){const[t,o]=r.useState("");function u(c){return c.split("").splice(0,8).join("")+"..."}return r.useEffect(()=>{o(u(s))},[]),n("div",{className:"user-bubble",children:[e("div",{className:"active-user"}),e("img",{src:a}),t]})}function C(){const a=r.useContext(p),{users:s}=a;return e("div",{id:"active-bar",children:s==null?void 0:s.map((t,o)=>o<6&&e(k,{userName:t.user_id,picUrl:t.profile_pic},g()))})}function l({picUrl:a,userName:s,suggestionHighlight:t}){return n("div",{className:"suggestion-bubble",children:[e("img",{className:"small-profile-picture",src:a}),n("div",{className:"suggestion-info",children:[e("p",{className:"heads-up-user-names-name black-bold-mid-size",children:s}),e("p",{className:"gray-thin-mid-size",children:t})]}),e("p",{className:"hot-link",children:"Follow"})]})}function B({userName:a,fullName:s,suggestions:t,pic_url:o}){return n("div",{id:"heads-up",children:[n("div",{className:"heads-up-user-info",children:[e("img",{src:o}),n("div",{className:"heads-up-user-names",children:[e("p",{className:"heads-up-user-names-name black-bold-mid-size",children:a}),e("p",{id:"heads-up-user-full-name",children:s})]}),e("p",{className:"hot-link",children:"Switch"})]}),n("div",{className:"suggestions-for-you",children:[e("p",{children:"Suggestions For You"}),e("a",{children:e("p",{children:"See All"})})]}),e(l,{userName:"morgiemorg",suggestionHighlight:"Suggested for you",picUrl:"https://picsum.photos/50"}),e(l,{userName:"timmy_tomas",suggestionHighlight:"Suggested for you",picUrl:"https://picsum.photos/51"}),e(l,{userName:"lillylol",suggestionHighlight:"Suggested for you",picUrl:"https://picsum.photos/52"}),e(l,{userName:"pasa_the_cat",suggestionHighlight:"Suggested for you",picUrl:"https://picsum.photos/53"}),e(l,{userName:"juno_black_cat",suggestionHighlight:"Suggested for you",picUrl:"https://picsum.photos/54"})]})}const E=r.lazy(()=>f(()=>import("./PostCard-81528c7e.js"),["assets/PostCard-81528c7e.js","assets/index-90082eb9.js","assets/index-ebeaaee4.css","assets/NewPost-624c1a18.js","assets/NewPost-fa83e33e.css"]));function A(){const a=r.useContext(p),{currentUser:s,posts:t,fetchUserDatabase:o,fetchPostsDatabase:u}=a,[c,m]=r.useState();function d(){u(),o()}return r.useEffect(()=>{d()},[]),r.useEffect(()=>{m(t==null?void 0:t.sort((i,h)=>h.time_posted.seconds-i.time_posted.seconds))},[t]),e(r.Suspense,{fallback:e("div",{children:"Loading..."}),children:n("div",{id:"main-feed",children:[e(N,{}),e(_,{}),e(v,{}),e(b,{}),e(S,{}),e(y,{}),n("div",{className:"main-feed-container",children:[e(C,{}),c==null?void 0:c.map(i=>e(E,{profilePic:i.profile_pic,user:i.poster,picUrl:i.pic_url,likeCount:i.likes,caption:i.caption,time_posted:i.time_posted.seconds,comments:i.comments,full_name:i.full_name},U()))]}),e(B,{userName:s.username,fullName:s.full_name,pic_url:s.pic_url})]})})}export{A as default};
